# Socet api overview

Оригинал гайда - [ссылка](https://realpython.com/python-sockets/)

## История

Socket\`ы имеют долгую историю. Их использование началось с ARPANET в 1971 году и позже стало API в операционной системе Berkeley Software Distribution \(BSD\), выпущенной в 1983 году, называемой Berkeley sockets.

## Обзор Socket API

Модуль сокетов Python предоставляет интерфейс для API сокетов Беркли.

Основные функции и методы API сокетов в этом модуле:

* socket\(\)
* bind\(\)
* listen\(\)
* accept\(\)
* connect\(\)
* connect\_ex\(\)
* send\(\)
* recv\(\)
* close\(\)

Python предоставляет удобный и согласованный API, который отображается непосредственно на эти системные вызовы, их аналоги на языке C.

Как часть своей стандартной библиотеки, Python также имеет классы, которые облегчают использование этих низкоуровневых функций сокетов. Модуль socketserver , среду для сетевых серверов. Есть также много доступных модулей, которые реализуют высокоуровневые интернет-протоколы, такие как HTTP и SMTP.

## TCP Sockets

создадим объект сокета с помощью socket.socket\(\)и определим тип сокета как socket.SOCK\_STREAM. Когда вы делаете это, по умолчанию используется Transmission Control Protocol \(TCP\). Это хороший вариант по умолчанию.

Почему вы должны использовать TCP? Протокол управления передачей \(TCP\):

* Надежен: пакеты, отброшенные в сети, обнаруживаются и повторно передаются отправителем.
* Имеет порядок доставки данных: данные читаются вашим приложением в том порядке, в котором они были написаны отправителем.

Напротив, сокеты User Datagram Protocol \(UDP\), созданные с помощью socket.SOCK\_DGRAM, не являются надежными, и данные, считываемые получателем, могут быть не в порядке из записей отправителя.

Почему это важно? Сети - это система доставки с максимальными усилиями. Нет никакой гарантии, что ваши данные достигнут пункта назначения или вы получите то, что было отправлено вам.

Сетевые устройства \(например, маршрутизаторы и коммутаторы\) имеют ограниченную доступную полосу пропускания и собственные системные ограничения. Они имеют процессоры, память, шины и интерфейсные буферы пакетов, как наши клиенты и серверы. TCP избавляет вас от необходимости беспокоиться о потере пакетов , поступлении данных не по порядку и многим другим вещам, которые неизменно происходят при обмене данными по сети.

На диаграмме ниже давайте рассмотрим последовательность вызовов API сокетов и поток данных для TCP:

![TCP Socket Flow](https://upload.wikimedia.org/wikipedia/commons/a/a1/InternetSocketBasicDiagram_zhtw.png)

Обратите внимание на API-вызовы, которые сервер делает для настройки «слушающего» сокета:

* socket\(\)
* bind\(\)
* listen\(\)
* accept\(\)

